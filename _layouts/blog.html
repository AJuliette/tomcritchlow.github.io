{% include head.html %}

{% if page.coverimage %}
  
  <style>
    html{
      border-left:none;
      border-top:none;
    }
  </style>
  
  <div class='coverimage'>
    <img src="{{page.coverimage}}" />
  </div>
  
{% else %}

<div class="topnav">
  <div class="header pacifico">TomCritchlow</div>
  <div class="navigation hidden">
    <span><a href="/">hello</a></span>
    <span><a href="/about">about me</a></span>
    <span><a href="/writing">writing</a></span>
    <span class="desktophidden opensans close">X</span>
  </div>
</div>

{% endif %}

<div class="blogcontent">
  <h1>{{page.title}}</h1>

{% if page.subtitle %}
<h2 class='subtitle'>{{page.subtitle}}</h2>
  {% endif %}

{% if page.date %}
<p class="date">&mdash; {{ page.date | date: "%B %-d, %Y" }} &mdash;</p>
  {% endif %}
  
  {{content}}

</div>



<div class="footer">
  <a href="https://twitter.com/@tomcritchlow">@tomcritchlow</a>
</div>


{% include googleanalytics.html %}

<script>

$('p img').each(function(){
  $(this).parent().addClass("imgonly");
});

$(".header").click(function(){
    $(".navigation").slideToggle();
  });

$(".close").click(function(){
      $(".navigation").slideToggle();
    });


$(".slider").attr("data-count","0");
$(".slider").prepend("<i class='fa fa-angle-left fa-3x prev'></i>");
$(".slider").append("<i class='fa fa-angle-right fa-3x next'></i>");    
    
$(".slider .next").click(function(){
      var count = $(this).parent().attr("data-count");
      var length = $(this).find("img").length;
      alert(length-1);
      $(this).parent().find("img").eq(count).hide();
      if (count == length-1){
        count = 0;
      } else{
        count++
      };
      $(this).parent().find("img").eq(count).show();
      $(this).parent().attr("data-count",count);
    });

$(".slider .prev").click(function(){
      var count = $(this).parent().attr("data-count");
      $(this).parent().find("img").eq(count).hide();
      if (count == 2){
        count = 0;
      } else{
        count--
      };
      $(this).parent().find("img").eq(count).show();
      $(this).parent().attr("data-count",count);
    });


</script>
